(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{943:(e,r,t)=>{Promise.resolve().then(t.bind(t,2303))},4505:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(7401).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3950:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(7401).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},2303:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>g});var s=t(5155),a=t(2115),n=t(6046),l=t(8435),o=t(183),i=t(7492),d=t(3312),c=t(9749),u=t(3900),f=t(1720),p=t(814),m=t(3950),h=t(4505);function g(){let{user:e,isLoading:r,login:t}=(0,l.A)(),{t:g}=(0,o.o)(),x=(0,n.useRouter)(),y="true"===(0,n.useSearchParams)().get("reset"),[v,b]=(0,a.useState)(""),[w,j]=(0,a.useState)(""),[N,P]=(0,a.useState)(""),[R,k]=(0,a.useState)(!1);(0,a.useEffect)(()=>{r||(e?b(e.name):x.push("/login"))},[e,r,x]),(0,a.useEffect)(()=>{y&&setTimeout(()=>p.oR.warning(g("profile.defaultPasswordWarning")),500)},[y,g]);let _=async r=>{if(r.preventDefault(),w&&w!==N){p.oR.error(g("profile.passwordMismatch"));return}k(!0);try{let r=await i.K.updateProfile(e.userId,v,w||void 0);r.success?(p.oR.success(g("profile.success")),t({...e,name:v}),y?x.push("/"):(j(""),P(""))):p.oR.error(r.message||g("profile.updateError"))}catch(e){p.oR.error(g("common.error"))}finally{k(!1)}};return r||!e?null:(0,s.jsx)("div",{className:"min-h-[calc(100vh-72px)] md:min-h-screen p-4 md:p-12 bg-muted/30 flex md:items-center justify-center font-sans",children:(0,s.jsxs)(c.Zp,{className:"w-full max-w-md border-none shadow-none md:shadow-lg bg-background",children:[(0,s.jsx)(c.aR,{className:"hidden md:flex flex-col gap-1 px-6 pt-8 pb-4",children:(0,s.jsx)(c.ZB,{className:"text-2xl font-bold tracking-tight",children:g("profile.title")})}),(0,s.jsxs)(c.Wu,{className:"px-6 py-8 md:pb-8",children:[y&&(0,s.jsxs)("div",{className:"bg-yellow-50 text-yellow-800 p-3 rounded-md mb-6 text-sm font-medium border border-yellow-100 flex items-center gap-2",children:[(0,s.jsx)(m.A,{className:"h-4 w-4"}),g("profile.defaultPasswordWarning")]}),(0,s.jsxs)("form",{onSubmit:_,className:"flex flex-col gap-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f.J,{htmlFor:"name",children:g("profile.name")}),(0,s.jsx)(u.p,{id:"name",placeholder:g("profile.name"),value:v,onChange:e=>b(e.target.value),required:!0,className:"h-11"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f.J,{htmlFor:"newPassword",children:g("profile.newPassword")}),(0,s.jsx)(u.p,{id:"newPassword",placeholder:g("profile.newPassword"),type:"password",value:w,onChange:e=>j(e.target.value),className:"h-11"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:g("profile.leaveBlank")})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f.J,{htmlFor:"confirmPassword",children:g("profile.confirmPassword")}),(0,s.jsx)(u.p,{id:"confirmPassword",placeholder:g("profile.confirmPassword"),type:"password",value:N,onChange:e=>P(e.target.value),className:"h-11"})]})]}),(0,s.jsx)(d.$,{type:"submit",disabled:R,className:"w-full h-11 text-lg",children:R?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.A,{className:"mr-2 h-4 w-4 animate-spin"}),g("profile.saving")]}):g("profile.save")})]})]})]})})}},3312:(e,r,t)=>{"use strict";t.d(r,{$:()=>d,r:()=>i});var s=t(5155),a=t(2115),n=t(2317),l=t(1027),o=t(1567);let i=(0,l.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,r)=>{let{className:t,variant:a,size:l,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,s.jsx)(u,{className:(0,o.cn)(i({variant:a,size:l,className:t})),ref:r,...c})});d.displayName="Button"},3900:(e,r,t)=>{"use strict";t.d(r,{p:()=>l});var s=t(5155),a=t(2115),n=t(1567);let l=a.forwardRef((e,r)=>{let{className:t,type:a,...l}=e;return(0,s.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...l})});l.displayName="Input"},1720:(e,r,t)=>{"use strict";t.d(r,{J:()=>c});var s=t(5155),a=t(2115),n=t(3360),l=a.forwardRef((e,r)=>(0,s.jsx)(n.sG.label,{...e,ref:r,onMouseDown:r=>{var t;r.target.closest("button, input, select, textarea")||(null===(t=e.onMouseDown)||void 0===t||t.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));l.displayName="Label";var o=t(1027),i=t(1567);let d=(0,o.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)(l,{ref:r,className:(0,i.cn)(d(),t),...a})});c.displayName=l.displayName},3360:(e,r,t)=>{"use strict";t.d(r,{sG:()=>l});var s=t(2115);t(7650);var a=t(2317),n=t(5155),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let t=(0,a.TL)(`Primitive.${r}`),l=s.forwardRef((e,s)=>{let{asChild:a,...l}=e,o=a?t:r;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(o,{...l,ref:s})});return l.displayName=`Primitive.${r}`,{...e,[r]:l}},{})},2317:(e,r,t)=>{"use strict";t.d(r,{DX:()=>u,TL:()=>c});var s,a=t(2115),n=t(8068),l=t(5155),o=Symbol.for("react.lazy"),i=(s||(s=t.t(a,2)))[" use ".trim().toString()];function d(e){var r;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===o&&"_payload"in e&&"object"==typeof(r=e._payload)&&null!==r&&"then"in r}function c(e){let r=function(e){let r=a.forwardRef((e,r)=>{let{children:t,...s}=e;if(d(t)&&"function"==typeof i&&(t=i(t._payload)),a.isValidElement(t)){var l;let e,o;let i=(l=t,(e=Object.getOwnPropertyDescriptor(l.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?l.ref:(e=Object.getOwnPropertyDescriptor(l,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?l.props.ref:l.props.ref||l.ref),d=function(e,r){let t={...r};for(let s in r){let a=e[s],n=r[s];/^on[A-Z]/.test(s)?a&&n?t[s]=(...e)=>{let r=n(...e);return a(...e),r}:a&&(t[s]=a):"style"===s?t[s]={...a,...n}:"className"===s&&(t[s]=[a,n].filter(Boolean).join(" "))}return{...e,...t}}(s,t.props);return t.type!==a.Fragment&&(d.ref=r?(0,n.t)(r,i):i),a.cloneElement(t,d)}return a.Children.count(t)>1?a.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}(e),t=a.forwardRef((e,t)=>{let{children:s,...n}=e;d(s)&&"function"==typeof i&&(s=i(s._payload));let o=a.Children.toArray(s),c=o.find(p);if(c){let e=c.props.children,s=o.map(r=>r!==c?r:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,l.jsx)(r,{...n,ref:t,children:a.isValidElement(e)?a.cloneElement(e,void 0,s):null})}return(0,l.jsx)(r,{...n,ref:t,children:s})});return t.displayName=`${e}.Slot`,t}var u=c("Slot"),f=Symbol("radix.slottable");function p(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===f}}},e=>{var r=r=>e(e.s=r);e.O(0,[65,814,397,441,517,358],()=>r(943)),_N_E=e.O()}]);