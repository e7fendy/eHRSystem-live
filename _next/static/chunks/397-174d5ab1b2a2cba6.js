"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[397],{9749:(e,t,o)=>{o.d(t,{BT:()=>l,Wu:()=>d,ZB:()=>i,Zp:()=>n,aR:()=>c,wL:()=>u});var r=o(5155),s=o(2115),a=o(1567);let n=s.forwardRef((e,t)=>{let{className:o,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",o),...s})});n.displayName="Card";let c=s.forwardRef((e,t)=>{let{className:o,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",o),...s})});c.displayName="CardHeader";let i=s.forwardRef((e,t)=>{let{className:o,...s}=e;return(0,r.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",o),...s})});i.displayName="CardTitle";let l=s.forwardRef((e,t)=>{let{className:o,...s}=e;return(0,r.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",o),...s})});l.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:o,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",o),...s})});d.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:o,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",o),...s})});u.displayName="CardFooter"},8435:(e,t,o)=>{o.d(t,{A:()=>i,AuthProvider:()=>c});var r=o(5155),s=o(2115),a=o(6046);let n=(0,s.createContext)(void 0),c=e=>{let{children:t}=e,[o,c]=(0,s.useState)(null),[i,l]=(0,s.useState)(!0),d=(0,a.useRouter)();return(0,s.useEffect)(()=>{let e=localStorage.getItem("ehr_user");if(e)try{c(JSON.parse(e))}catch(e){localStorage.removeItem("ehr_user")}l(!1)},[]),(0,r.jsx)(n.Provider,{value:{user:o,login:e=>{c(e),localStorage.setItem("ehr_user",JSON.stringify(e))},logout:()=>{c(null),localStorage.removeItem("ehr_user"),d.replace("/login")},isLoading:i},children:t})},i=()=>{let e=(0,s.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},183:(e,t,o)=>{o.d(t,{I:()=>c,o:()=>i});var r=o(5155),s=o(2115);let a={en:{common:{appName:"eHRSystem",signOut:"Sign Out",loading:"Loading...",error:"Error",success:"Success",notice:"Notice",systemInfo:"System Info",cancel:"Cancel"},login:{welcomeBack:"Welcome Back",signInToAccount:"Sign in to your eHR account",username:"Username",password:"Password",signIn:"Sign In",signingIn:"Signing in...",invalidCredentials:"Invalid credentials",connectionError:"Failed to connect to the server. Please check your connection and GAS URL.",needHelp:"Need help?",contactSupport:"Contact Support",managementSystem:"Management System",enterUsername:"Enter your username",enterPassword:"Enter your password"},dashboard:{welcome:"Welcome, {name}",role:"Role: {role}",attendanceAction:"Attendance Action",capturedWithGps:"Captured with GPS location",clockIn:"CLOCK IN",clockOut:"CLOCK OUT",capturingLocation:"Capturing location...",recordingClockIn:"Recording Clock In...",recordingClockOut:"Recording Clock Out...",clockedInSuccess:"Clocked in successfully!",clockedOutSuccess:"Clocked out successfully!",clockInThresholdError:"Clock-in is only allowed between 08:30 AM and 10:30 AM.",failedToRecord:"Failed to record attendance",serverError:"Server connection error. Check GAS URL.",locationError:"Location error: {error}. Please enable GPS.",geoNotSupported:"Geolocation is not supported by your browser",deviceDetected:"Device Detected",gpsStatus:"GPS Status",active:"Active",awaitingPermission:"Awaiting Permission",noticeContent:"Please ensure you are at the work location before clocking in. Your GPS coordinates are recorded for verification.",allRightsReserved:"All rights reserved."},profile:{title:"Edit Profile",name:"Name",newPassword:"New Password",confirmPassword:"Confirm New Password",save:"Save Changes",saving:"Saving...",success:"Profile updated successfully",passwordMismatch:"Passwords do not match",updateError:"Failed to update profile",defaultPasswordWarning:"Please change your default password to continue.",leaveBlank:"Leave blank to keep current password"},admin:{title:"User Management",addUser:"Add User",editUser:"Edit User",deleteUser:"Delete User",resetPassword:"Reset Password",username:"Username",name:"Name",role:"Role",status:"Status",createdAt:"Created At",actions:"Actions",adminRole:"ADMIN",memberRole:"MEMBER",activeStatus:"Active",deletedStatus:"Deleted",confirmDelete:"Are you sure you want to delete this user? This is a soft delete.",confirmReset:'Are you sure you want to reset this user\'s password to "000000"?',addSuccess:"User added successfully",updateSuccess:"User updated successfully",deleteSuccess:"User deleted successfully",resetSuccess:"Password reset successfully",userExists:"Username already exists",employeeHours:"Employee Hours",clockedHours:"Clocked Hours",missingHours:"Missing Hours",overtimeHours:"Overtime Hours",incomplete:"Incomplete",complete:"Complete",all:"All",filter:"Filter",details:"Details",yes:"Yes",no:"No",noRecords:"No records found",summaryForMonth:"Attendance Summary",calculationInfo:"Calculated based on 8 hours/day, Mon-Fri.",selectPeriod:"Select Period",viewAttendance:"View Attendance",selectUser:"Select User"},attendance:{title:"My Attendance",present:"Present",incomplete:"Incomplete",absent:"Absent",off:"Off / Holiday",totalHours:"Total Hours",presentDays:"Present Days",absentDays:"Absent Days",incompleteDays:"Incomplete Days",totalDays:"Days in Month",selectMonth:"Month",selectYear:"Year",duration:"Duration",clockIn:"Clock In",clockOut:"Clock Out",noData:"No attendance data for this day",status:"Status"}},"zh-tw":{common:{appName:"人事管理系統",signOut:"登出",loading:"載入中...",error:"錯誤",success:"成功",notice:"注意事項",systemInfo:"系統資訊",cancel:"取消"},login:{welcomeBack:"歡迎回來",signInToAccount:"請登入您的人事系統帳號",username:"使用者名稱",password:"密碼",signIn:"登入",signingIn:"登入中...",invalidCredentials:"帳號或密碼錯誤",connectionError:"連線伺服器失敗。請檢查您的網路連線與 GAS 網址。",needHelp:"需要幫助？",contactSupport:"聯繫支援",managementSystem:"管理系統",enterUsername:"請輸入使用者名稱",enterPassword:"請輸入密碼"},dashboard:{welcome:"歡迎，{name}",role:"角色：{role}",attendanceAction:"出勤操作",capturedWithGps:"將記錄 GPS 座標",clockIn:"上班打卡",clockOut:"下班打卡",capturingLocation:"正在取得位置...",recordingClockIn:"正在記錄上班時間...",recordingClockOut:"正在記錄下班時間...",clockedInSuccess:"上班打卡成功！",clockedOutSuccess:"下班打卡成功！",clockInThresholdError:"上班打卡僅限於 08:30 AM 至 10:30 AM 之間。",failedToRecord:"記錄出勤失敗",serverError:"伺服器連線錯誤。請檢查 GAS 網址。",locationError:"位置錯誤：{error}。請開啟 GPS。",geoNotSupported:"您的瀏覽器不支援地理位置功能",deviceDetected:"偵測裝置",gpsStatus:"GPS 狀態",active:"已啟用",awaitingPermission:"等待權限",noticeContent:"打卡前請確保您已到達工作地點。系統將會記錄您的 GPS 座標以便查核。",allRightsReserved:"版權所有。"},profile:{title:"編輯個人資料",name:"姓名",newPassword:"新密碼",confirmPassword:"確認新密碼",save:"儲存變更",saving:"儲存中...",success:"個人資料更新成功",passwordMismatch:"密碼不相符",updateError:"更新個人資料失敗",defaultPasswordWarning:"請更改預設密碼以繼續使用。",leaveBlank:"若不修改密碼請留空"},admin:{title:"使用者管理",addUser:"新增使用者",editUser:"編輯使用者",deleteUser:"刪除使用者",resetPassword:"重設密碼",username:"使用者名稱",name:"姓名",role:"角色",status:"狀態",createdAt:"建立時間",actions:"操作",adminRole:"管理員",memberRole:"一般成員",activeStatus:"使用中",deletedStatus:"已刪除",confirmDelete:"您確定要刪除此使用者嗎？這將會是軟刪除。",confirmReset:'您確定要將此使用者的密碼重設為 "000000" 嗎？',addSuccess:"使用者新增成功",updateSuccess:"使用者更新成功",deleteSuccess:"使用者刪除成功",resetSuccess:"密碼重設成功",userExists:"使用者名稱已存在",employeeHours:"員工工時",clockedHours:"已計工時",missingHours:"缺少工時",overtimeHours:"加班工時",incomplete:"紀錄不完整",complete:"紀錄完整",all:"全部",filter:"篩選",details:"詳細資訊",yes:"是",no:"否",noRecords:"查無紀錄",summaryForMonth:"出勤統計",calculationInfo:"依據每日 8 小時，週一至週五計算。",selectPeriod:"選擇時段",viewAttendance:"查看出勤",selectUser:"選擇使用者"},attendance:{title:"我的出勤",present:"正常出勤",incomplete:"紀錄異常",absent:"缺勤",off:"休假/週末",totalHours:"總工時",presentDays:"正常天數",absentDays:"缺勤天數",incompleteDays:"異常天數",totalDays:"當月天數",selectMonth:"月份",selectYear:"年份",duration:"時長",clockIn:"上班打卡",clockOut:"下班打卡",noData:"當日無打卡紀錄",status:"狀態"}}},n=(0,s.createContext)(void 0),c=e=>{let{children:t}=e,[o,c]=(0,s.useState)("en");return(0,s.useEffect)(()=>{let e=localStorage.getItem("language");e&&("en"===e||"zh-tw"===e)?c(e):navigator.language.toLowerCase().startsWith("zh")&&c("zh-tw")},[]),(0,r.jsx)(n.Provider,{value:{language:o,setLanguage:e=>{c(e),localStorage.setItem("language",e)},t:(e,t)=>{let r=e.split("."),s=a[o];for(let t of r){if(void 0===s[t])return e;s=s[t]}let n=s;return"string"==typeof n&&t&&Object.entries(t).forEach(e=>{let[t,o]=e;n=n.replace("{".concat(t,"}"),o)}),n}},children:t})},i=()=>{let e=(0,s.useContext)(n);if(void 0===e)throw Error("useLanguage must be used within a LanguageProvider");return e}},1567:(e,t,o)=>{o.d(t,{cn:()=>a});var r=o(3463),s=o(9795);function a(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return(0,s.QP)((0,r.$)(t))}},7492:(e,t,o)=>{async function r(e){let t=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>e.toString(16).padStart(2,"0")).join("")}o.d(t,{K:()=>a});let s="https://script.google.com/macros/s/AKfycbzUp2ALtoTxguNBikMhp3PHbH0BF9jkWzReWxbgs8pIns1B4BeoZM7hpugzFkCW2mvy/exec",a={async login(e,t){let o=await r(t);return(await fetch(s,{method:"POST",mode:"cors",body:JSON.stringify({action:"login",username:e,password:o})})).json()},async updateProfile(e,t,o){let a={action:"updateUser",userId:e,name:t};return o&&(a.password=await r(o)),(await fetch(s,{method:"POST",mode:"cors",body:JSON.stringify(a)})).json()},async getUsers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return(await fetch(s,{method:"POST",mode:"cors",body:JSON.stringify({action:"getUsers",page:e,pageSize:t})})).json()},addUser:async(e,t,o)=>(await fetch(s,{method:"POST",mode:"cors",body:JSON.stringify({action:"addUser",username:e,name:t,role:o})})).json(),updateUserAdmin:async(e,t,o)=>(await fetch(s,{method:"POST",mode:"cors",body:JSON.stringify({action:"updateUser",userId:e,name:t,role:o})})).json(),deleteUser:async e=>(await fetch(s,{method:"POST",mode:"cors",body:JSON.stringify({action:"deleteUser",userId:e})})).json(),resetPassword:async e=>(await fetch(s,{method:"POST",mode:"cors",body:JSON.stringify({action:"resetPassword",userId:e})})).json(),async getAttendanceSummary(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,o=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;return(await fetch(s,{method:"POST",mode:"cors",body:JSON.stringify({action:"getAttendanceSummary",page:e,pageSize:t,month:o,year:r,status:a})})).json()},getUserAttendance:async(e,t,o)=>(await fetch(s,{method:"POST",mode:"cors",body:JSON.stringify({action:"getUserAttendance",userId:e,month:t,year:o})})).json(),recordAttendance:async e=>(await fetch(s,{method:"POST",mode:"cors",body:JSON.stringify({action:"attendance",...e})})).json()}}}]);